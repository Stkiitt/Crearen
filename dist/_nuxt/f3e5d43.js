(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{316:function(e,t,n){var content=n(325);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("ea95f53a",content,!0,{sourceMap:!1})},317:function(e,t,n){var content=n(328);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("67cc527e",content,!0,{sourceMap:!1})},324:function(e,t,n){"use strict";n(316)},325:function(e,t,n){var r=n(106)(!1);r.push([e.i,"\n.button-add {\r\n  float: right;\r\n  margin-left: 20px;\r\n  padding: 0 20px;\r\n  height: 2.5em;\r\n  border-radius: 3em;\r\n  background-color: greenyellow;\r\n  color: black;\r\n  border: none;\r\n  box-shadow: 1px 2px 1px #777777;\n}\n.err {\r\n  color: red;\r\n  font-size: small;\n}\r\n\r\n/* 追加ポップアップ内 */\n.addContents {\r\n  padding: 2em;\n}\n.addInput {\r\n  border: 1px solid gray;\n}\r\n\r\n/* モーダルCSS */\n.modalArea {\r\n  display: none;\r\n  position: fixed;\r\n  z-index: 10;\r\n  /*サイトによってここの数値は調整 */\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\n}\n.modalBg {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(30, 30, 30, 0.9);\n}\n.modalWrapperAdd {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 70%;\r\n  max-width: 500px;\r\n  padding: 10px 30px;\r\n  background-color: #fff;\n}\n.closeModal {\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 1rem;\r\n  cursor: pointer;\n}\r\n",""]),e.exports=r},326:function(e,t,n){e.exports=n.p+"img/check.a9267da.png"},327:function(e,t,n){"use strict";n(317)},328:function(e,t,n){var r=n(106)(!1);r.push([e.i,"\n#complete {\r\n  height: 2em;\n}\n#complete:hover {\r\n  transform: scale(1.4, 1.4);\r\n  filter: opacity(30%);\n}\n.task-comp {\r\n  padding-left: 1em;\r\n  margin: auto 1em auto auto;\n}\r\n\r\n/* モーダルCSS */\n.modalArea {\r\n  display: none;\r\n  position: fixed;\r\n  z-index: 10;\r\n  /*サイトによってここの数値は調整 */\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\n}\n.modalBg {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(30, 30, 30, 0.9);\n}\n.modalWrapperComp {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 70%;\r\n  max-width: 250px;\r\n  padding: 10px 30px;\r\n  background-color: #fff;\n}\n.closeModal {\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 1rem;\r\n  cursor: pointer;\n}\n.compContents {\r\n  padding: 5px;\r\n  text-align: center;\n}\r\n",""]),e.exports=r},333:function(e,t,n){"use strict";n.r(t);n(27),n(15),n(2),n(1);var r=n(31),o=(n(84),n(3),n(85),n(233),n(11),n(21),n(309)),c=n(312),d={computed:{tasksChild:{get:function(){return[]},set:function(e){this.$emit("changeTasks",e)}}},data:function(){return{uid:"",name:"",memo:"",priority:"中",deadline:"",taskerr:"",dateerr:""}},mounted:function(){this.checkLogin()},methods:{checkLogin:function(){var e=this,t=Object(c.b)(this.$app);Object(c.c)(t,(function(t){t&&(e.uid=t.uid)}))},getTasks:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,q,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(o.g)(e.$app),q=Object(o.j)(Object(o.b)(n,"task"),Object(o.l)("uid","==",e.uid)),t.next=4,Object(o.f)(q);case 4:return r=t.sent,c=[],r.forEach((function(e){var t=e.data();t.tid=e.id,c.push(t),c.sort((function(a,b){return b.time-a.time}))})),t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))()},addData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(o.g)(e.$app),r=e.dataCheck(0),c=e.dataCheck(1),!r||!c){t.next=14;break}return t.next=6,Object(o.a)(Object(o.b)(n,"task"),{deadline:e.deadline,memo:e.memo,name:e.name,priority:e.priority,uid:e.uid,time:e.getNow()});case 6:return t.next=8,e.getTasks();case 8:e.tasksChild=t.sent,e.closeAddPopup(),e.deadline="",e.memo="",e.name="",e.priority="中";case 14:case"end":return t.stop()}}),t)})))()},dataCheck:function(e){if(0==e){var t=this.name.length;return t<=20&&t>=1?(this.taskerr="",!0):(this.taskerr="※タスク名の文字数が不適切です。",!1)}if(1==e){var n=this.getToday(),r=Number(this.deadline.replace(/-/g,""));return n<=r&&n+2e5>=r||""==r?(this.dateerr="",!0):(this.dateerr="※期限が不適切です。",!1)}},getNow:function(){var e=new Date;return 1e9*e.getFullYear()+1e7*(e.getMonth()+1)+1e5*e.getDate()+3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},openAddPopup:function(){$("#addTask").fadeIn()},closeAddPopup:function(){$("#addTask").fadeOut(),this.taskerr="",this.dateerr=""}}},l=(n(324),n(63)),component=Object(l.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"inline"}},[t("button",{staticClass:"button-add",on:{click:function(t){return e.openAddPopup()}}},[e._v("追加")]),e._v(" "),t("section",{staticClass:"modalArea",attrs:{id:"addTask"}},[t("div",{staticClass:"modalBg",on:{click:function(t){return e.closeAddPopup()}}}),e._v(" "),t("div",{staticClass:"modalWrapperAdd"},[t("div",{staticClass:"addContents"},[t("h1",[e._v("タスクの追加")]),e._v(" "),t("p",[e._v("タスク名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"addInput",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),t("p",{staticClass:"err"},[e._v(e._s(e.taskerr))]),e._v(" "),t("p",[e._v("メモ")]),e._v(" "),t("p",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.memo,expression:"memo"}],staticClass:"addInput",domProps:{value:e.memo},on:{input:function(t){t.target.composing||(e.memo=t.target.value)}}})]),e._v(" "),t("p",[e._v("優先度")]),e._v(" "),t("p",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.priority,expression:"priority"}],staticClass:"addInput",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.priority=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"高"}},[e._v("高")]),e._v(" "),t("option",{attrs:{value:"中",selected:""}},[e._v("中")]),e._v(" "),t("option",{attrs:{value:"低"}},[e._v("低")])])]),e._v(" "),t("p",[e._v("期限")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.deadline,expression:"deadline"}],staticClass:"addInput",attrs:{type:"date"},domProps:{value:e.deadline},on:{input:function(t){t.target.composing||(e.deadline=t.target.value)}}}),e._v(" "),t("p",{staticClass:"err"},[e._v(e._s(e.dateerr))]),e._v(" "),t("p",[t("button",{staticClass:"btn btn-success",on:{click:function(t){return e.addData()}}},[e._v("タスクを追加する")])])]),e._v(" "),t("div",{staticClass:"closeModal",on:{click:function(t){return e.closeAddPopup()}}},[e._v("\n        ☓\n      ")])])])])}),[],!1,null,null,null);t.default=component.exports},334:function(e,t,n){"use strict";n.r(t);var r=n(31),o=(n(84),n(1),n(3),n(85),n(27),n(233),n(11),n(21),n(309)),c=n(312),d={props:{task:{type:Object}},computed:{tasksChild:{get:function(){return[]},set:function(e){this.$emit("changeTasks",e)}},compChild:{get:function(){return""},set:function(e){this.$emit("changeComp",e)}}},data:function(){return{uid:"",name:"",memo:"",priority:"中",deadline:"",taskid:"",time_created:0}},mounted:function(){this.checkLogin()},methods:{checkLogin:function(){var e=this,t=Object(c.b)(this.$app);Object(c.c)(t,(function(t){t&&(e.uid=t.uid)}))},getTasks:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,q,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(o.g)(e.$app),q=Object(o.j)(Object(o.b)(n,"task"),Object(o.l)("uid","==",e.uid)),t.next=4,Object(o.f)(q);case 4:return r=t.sent,c=[],r.forEach((function(e){var t=e.data();t.tid=e.id,c.push(t),c.sort((function(a,b){return b.time-a.time}))})),t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))()},completeButton:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(o.g)(e.$app),t.next=3,Object(o.a)(Object(o.b)(n,"task_completed"),{time:e.getNow(),deadline:e.deadline,memo:e.memo,name:e.name,priority:e.priority,uid:e.uid});case 3:return t.next=5,e.countCompAchievement();case 5:return e.compChild=e.taskid,t.next=8,Object(o.c)(Object(o.d)(n,"task",e.taskid));case 8:return t.next=10,e.getTasks();case 10:e.tasksChild=t.sent,e.closeCompPopup();case 12:case"end":return t.stop()}}),t)})))()},countCompAchievement:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,d,l,m,h,v,f,k,_,x,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={achievement:{avatar:[["mahoutsukai_white_man","mahoutsukai_white_woman"],["ningyohime"],["fantasy_ryuukishi"],["character_hakase"],["fantasy_dark_elf"]],degree:[["新人","魔法使い"],["魅惑","マーメイド"],["最強","ドラゴンナイト"],["ものしり","博士"],["憧れ","タスクマスター"]]},completed_quick:{avatar:[["fantasy_berserker"]],degree:[["タスクキラー"]]},completed_all:{avatar:[["kugakusei"],["busy_man"],["syoninkyu_man"],["mahoutsukai_water"],["mahoutsukai_wind"]],degree:[["働く","学生"],["忙しい","社員"],["少ない","初任給"],["計画的","実行"],["塵","積もれば山となる"]]},completed_high:{avatar:[["chibikko_gang"],["alien_grey"],["mahoutsukai_thunder"],["royal_king_gyokuza","royal_queen_gyokuza"],["kamisama"]],degree:[["生意気","ギャング","ベイビー"],["かわいい","宇宙人"],["ビリビリ","達人"],["やさしい","王様"],["最高","神"]]},completed_middle:{avatar:[["kintarou"],["fantasy_elf2"],["knight"],["mahoutsukai_necromancer"],["fantasy_maou_devil"]],degree:[["元気","金太郎"],["幻","エルフ"],["敏腕","ナイト"],["上手","玄人"],["最悪","魔王"]]},completed_low:{avatar:[["yuusya_game"],["mahoutsukai_fire"],["fantasy_dracula2"],["ninja_shinobiashi"],["tantei_boy","tantei_girl"]],degree:[["駆け出し","勇者"],["メラメラ","努力家"],["強力","ドラキュラ"],["一人前","忍者"],["すごい","名探偵"]]},task_success:{avatar:[["tabibito"],["monogatari_robinhood"],["saiyuki_songoku_kintoun"],["fantasy_dragon"],["unchi_character"]],degree:[["さすらい","旅人"],["百発百中","アーチャー"],["伝説","孫悟空"],["恐ろしい","タスクモンスター"],["嵐を呼ぶ","しり"]]},task_failure:{avatar:[["character_shimekiri"],["businessman_cry_man"],["speed_slow_turtle"]],degree:[["油断大敵"],["鶴","千年"],["亀","万年"]]}},r=Object(o.g)(e.$app),t.next=4,Object(o.e)(Object(o.d)(r,"user",e.uid));case 4:if((c=t.sent).exists()&&(d=c.data()),l=e.getToday(),!(e.getNow()-e.time_created<300)){t.next=18;break}if(d.completed_quick++,0==(m=[10].indexOf(d.completed_quick)+1)){t.next=18;break}return alert("「?」\nミッションを達成しました。"),d.achievement++,t.next=16,Object(o.k)(Object(o.d)(r,"user",e.uid),{completed_quick_step:m});case 16:e.addAvatarDegree(r,n,"completed_quick",m),e.updateAchievement(r,n,d.achievement);case 18:if(d.completed_all++,0==(h=[30,50,100,200,300].indexOf(d.completed_all)+1)){t.next=27;break}return alert("「タスク完了の合計数」\nミッションを達成しました。"),d.achievement++,t.next=25,Object(o.k)(Object(o.d)(r,"user",e.uid),{completed_all_step:h});case 25:e.addAvatarDegree(r,n,"completed_all",h),e.updateAchievement(r,n,d.achievement);case 27:if("高"!=e.priority){t.next=39;break}if(d.completed_high++,0==(v=[1,5,10,50,100].indexOf(d.completed_high)+1)){t.next=37;break}return alert("「優先度：高」\nミッションを達成しました。"),d.achievement++,t.next=35,Object(o.k)(Object(o.d)(r,"user",e.uid),{completed_high_step:v});case 35:e.addAvatarDegree(r,n,"completed_high",v),e.updateAchievement(r,n,d.achievement);case 37:t.next=61;break;case 39:if("中"!=e.priority){t.next=51;break}if(d.completed_middle++,0==(f=[1,5,10,50,100].indexOf(d.completed_middle)+1)){t.next=49;break}return alert("「優先度：中」\nミッションを達成しました。"),d.achievement++,t.next=47,Object(o.k)(Object(o.d)(r,"user",e.uid),{completed_middle_step:f});case 47:e.addAvatarDegree(r,n,"completed_middle",f),e.updateAchievement(r,n,d.achievement);case 49:t.next=61;break;case 51:if("低"!=e.priority){t.next=61;break}if(d.completed_low++,0==(k=[1,5,10,50,100].indexOf(d.completed_low)+1)){t.next=61;break}return alert("「優先度：低」\nミッションを達成しました。"),d.achievement++,t.next=59,Object(o.k)(Object(o.d)(r,"user",e.uid),{completed_low_step:k});case 59:e.addAvatarDegree(r,n,"completed_low",k),e.updateAchievement(r,n,d.achievement);case 61:if(!((_=Number(e.deadline.replace(/-/g,"")))>=l||""==_)){t.next=74;break}if(d.task_success++,0==(x=[30,50,100,200,300].indexOf(d.task_success)+1)){t.next=72;break}return alert("「期限内にタスクを完了する」\nミッションを達成しました。"),d.achievement++,t.next=70,Object(o.k)(Object(o.d)(r,"user",e.uid),{task_success_step:x});case 70:e.addAvatarDegree(r,n,"task_success",x),e.updateAchievement(r,n,d.achievement);case 72:t.next=83;break;case 74:if(d.task_failure++,0==(w=[10,20,30].indexOf(d.task_failure)+1)){t.next=83;break}return alert("「期限を過ぎてタスクを完了する」\nミッションを達成しました。"),d.achievement++,t.next=81,Object(o.k)(Object(o.d)(r,"user",e.uid),{task_failure_step:w});case 81:e.addAvatarDegree(r,n,"task_failure",w),e.updateAchievement(r,n,d.achievement);case 83:return t.next=85,Object(o.k)(Object(o.d)(r,"user",e.uid),{achievement:d.achievement,completed_all:d.completed_all,completed_high:d.completed_high,completed_low:d.completed_low,completed_middle:d.completed_middle,completed_quick:d.completed_quick,task_failure:d.task_failure,task_success:d.task_success});case 85:case"end":return t.stop()}}),t)})))()},updateAchievement:function(e,t,n){var c=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0==(d=[1,5,10,15,30].indexOf(n)+1)){r.next=6;break}return alert("「実績解除数」\nミッションを達成しました。"),r.next=5,Object(o.k)(Object(o.d)(e,"user",c.uid),{achievement_step:d});case 5:c.addAvatarDegree(e,t,"achievement",d);case 6:case"end":return r.stop()}}),r)})))()},addAvatarDegree:function(e,t,n,c){var d=this;return Object(r.a)(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:t[n].avatar[c-1].forEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)(Object(o.b)(e,"user",d.uid,"Avatar"),{img_name:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t[n].degree[c-1].forEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)(Object(o.b)(e,"user",d.uid,"Degree"),{name:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return l.stop()}}),l)})))()},getNow:function(){var e=new Date;return 1e9*e.getFullYear()+1e7*(e.getMonth()+1)+1e5*e.getDate()+3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},openCompPopup:function(){this.name=this.task.name,this.memo=this.task.memo,this.priority=this.task.priority,this.deadline=this.task.deadline,this.taskid=this.task.tid,this.time_created=this.task.time,$("#CompTask"+this.task.tid).fadeIn()},closeCompPopup:function(){$("#CompTask"+this.task.tid).fadeOut(),this.name="",this.memo="",this.priority="中",this.deadline="",this.taskid="",this.time_created=0}}},l=d,m=(n(327),n(63)),component=Object(m.a)(l,(function(){var e=this,t=e._self._c;return t("div",[t("span",{staticClass:"task-comp"},[t("img",{attrs:{id:"complete",src:n(326)},on:{click:function(t){return e.openCompPopup()}}})]),e._v(" "),t("section",{staticClass:"modalArea",attrs:{id:"CompTask"+e.task.tid}},[t("div",{staticClass:"modalBg",on:{click:function(t){return e.closeCompPopup()}}}),e._v(" "),t("div",{staticClass:"modalWrapperComp"},[t("div",{staticClass:"compContents"},[t("p",[e._v("タスクを完了しますか？")]),e._v(" "),t("p",[t("button",{staticClass:"btn btn-warning",on:{click:function(t){return e.completeButton()}}},[e._v("はい")]),e._v(" "),t("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.closeCompPopup()}}},[e._v("いいえ")])])])])])])}),[],!1,null,null,null);t.default=component.exports},342:function(e,t,n){var content=n(373);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("820458d2",content,!0,{sourceMap:!1})},347:function(e,t,n){"use strict";n.r(t);n(233),n(27),n(15),n(2),n(1);var r=n(31),o=(n(84),n(3),n(85),n(11),n(21),n(333)),c=n(334),d=n(309),l=n(312),m={components:{CompImgPopup:c.default,AddButtonPopup:o.default},computed:{compChild:{get:function(){return""},set:function(e){this.$emit("changeComp",e)}}},data:function(){return{uid:"",tasks:[],name:"",memo:"",priority:"中",deadline:"",taskid:"",taskerr:"",dateerr:""}},mounted:function(){this.checkLogin()},methods:{changeTasks:function(e){this.tasks=e},changeComp:function(e){this.compChild=e},checkLogin:function(){var e=this,t=Object(l.b)(this.$app);Object(l.c)(t,(function(t){t&&(e.uid=t.uid,e.getTasks())}))},getTasks:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,q,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(d.g)(e.$app),q=Object(d.j)(Object(d.b)(n,"task"),Object(d.l)("uid","==",e.uid)),t.next=4,Object(d.f)(q);case 4:r=t.sent,e.tasks=[],r.forEach((function(t){var n=t.data();n.tid=t.id,e.tasks.push(n),e.sortTasks(0)}));case 7:case"end":return t.stop()}}),t)})))()},sortTasks:function(e){var t=this;switch(e){case 0:this.tasks.sort((function(a,b){return b.time-a.time}));break;case 1:this.tasks.sort((function(a,b){return a.time-b.time}));break;case 2:this.tasks.sort((function(a,b){var e=t.getPriorityNum(a.priority);return t.getPriorityNum(b.priority)-e}));break;case 3:this.tasks.sort((function(a,b){var e=Number(a.deadline.replace(/-/g,"")),t=Number(b.deadline.replace(/-/g,""));return e==t?0:0==e?1:0==t?-1:e-t}))}},getPriorityNum:function(e){return"高"==e?2:"中"==e?1:"低"==e?0:void 0},countDeleteAchievement:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={achievement:{avatar:[["mahoutsukai_white_man","mahoutsukai_white_woman"],["ningyohime"],["fantasy_ryuukishi"],["character_hakase"],["fantasy_dark_elf"]],degree:[["新人","魔法使い"],["魅惑","マーメイド"],["最強","ドラゴンナイト"],["ものしり","博士"],["憧れ","タスクマスター"]]},task_delete:{avatar:[["shinigami"]],degree:[["タスク界","死神"]]}},r=Object(d.g)(e.$app),t.next=4,Object(d.e)(Object(d.d)(r,"user",e.uid));case 4:return(o=t.sent).exists()&&(c=o.data()),c.task_delete++,t.next=9,Object(d.k)(Object(d.d)(r,"user",e.uid),{task_delete:c.task_delete});case 9:if(0==(l=[30].indexOf(c.task_delete)+1)){t.next=17;break}return alert("「タスク削除数」\nミッションを達成しました。"),c.achievement++,t.next=15,Object(d.k)(Object(d.d)(r,"user",e.uid),{achievement:c.achievement,task_delete_step:l});case 15:e.addAvatarDegree(r,n,"task_delete",l),e.updateAchievement(r,n,c.achievement);case 17:case"end":return t.stop()}}),t)})))()},updateAchievement:function(e,t,n){var o=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0==(c=[1,5,10,15,30].indexOf(n)+1)){r.next=6;break}return alert("「実績解除数」\nミッションを達成しました。"),r.next=5,Object(d.k)(Object(d.d)(e,"user",o.uid),{achievement_step:c});case 5:o.addAvatarDegree(e,t,"achievement",c);case 6:case"end":return r.stop()}}),r)})))()},addAvatarDegree:function(e,t,n,o){var c=this;return Object(r.a)(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:t[n].avatar[o-1].forEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)(Object(d.b)(e,"user",c.uid,"Avatar"),{img_name:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t[n].degree[o-1].forEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)(Object(d.b)(e,"user",c.uid,"Degree"),{name:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return l.stop()}}),l)})))()},getToday:function(){var e=new Date;return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()},dataCheck:function(e){if(0==e){var t=this.name.length;return t<=20&&t>=1?(this.taskerr="",!0):(this.taskerr="※タスク名の文字数が不適切です。",!1)}if(1==e){var n=this.getToday(),r=Number(this.deadline.replace(/-/g,""));return n<=r&&n+2e5>=r||""==r?(this.dateerr="",!0):(this.dateerr="※期限が不適切です。",!1)}},updateData:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.dataCheck(0),o=t.dataCheck(1),!r||!o){n.next=8;break}return c=Object(d.g)(t.$app),n.next=6,Object(d.k)(Object(d.d)(c,"task",e),{deadline:t.deadline,memo:t.memo,name:t.name,priority:t.priority,uid:t.uid});case 6:t.getTasks(),t.closeEditPopup();case 8:case"end":return n.stop()}}),n)})))()},deleteData:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object(d.g)(t.$app),n.next=3,Object(d.c)(Object(d.d)(r,"task",e));case 3:t.countDeleteAchievement(),t.getTasks(),t.closeEditPopup();case 6:case"end":return n.stop()}}),n)})))()},openEditPopup:function(e,t,n,r,o){this.name=e,this.memo=t,this.priority=n,this.deadline=r,this.taskid=o,$("#editTask").fadeIn()},closeEditPopup:function(){$("#editTask").fadeOut(),this.name="",this.memo="",this.priority="中",this.deadline="",this.taskid="",this.taskerr="",this.dateerr=""},changeBorderColor:function(e){return"高"==e?"high-p my-3":"中"==e?"middle-p my-3":"low-p my-3"},changeDeadlineColor:function(e){return Number(e.replace(/-/g,""))<this.getToday()?"task-content deadline-red":"task-content"}}},h=m,v=(n(372),n(63)),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-8 order-lg-1 col-12 order-2"},[t("div",{staticClass:"m-2 px-4 border",attrs:{id:"ToDoBlock"}},[t("div",{attrs:{id:"taskList"}},[t("h2",{staticClass:"my-4",attrs:{id:"ToDo"}},[e._v("ToDo")]),e._v(" "),t("AddButtonPopup",{on:{changeTasks:e.changeTasks}}),e._v(" "),t("select",{staticClass:"sort_select",on:{change:function(t){e.sortTasks(Number(t.target.value))}}},[t("option",{attrs:{value:"0"}},[e._v("新しい順")]),e._v(" "),t("option",{attrs:{value:"1"}},[e._v("古い順")]),e._v(" "),t("option",{attrs:{value:"2"}},[e._v("優先度順")]),e._v(" "),t("option",{attrs:{value:"3"}},[e._v("期限が近い順")])])],1),e._v(" "),e._l(e.tasks,(function(n){return t("section",{key:n.tid},[t("div",{staticClass:"task",class:e.changeBorderColor(n.priority)},[t("div",{staticClass:"task-content-group",on:{click:function(t){return e.openEditPopup(n.name,n.memo,n.priority,n.deadline,n.tid)}}},[t("h4",{staticClass:"task-title"},[e._v(e._s(n.name))]),e._v(" "),n.deadline?t("span",{staticClass:"task-content",class:e.changeDeadlineColor(n.deadline)},[e._v("\n            期限："+e._s(n.deadline))]):e._e(),e._v(" "),t("span",{staticClass:"task-content"},[e._v("優先度："+e._s(n.priority))])]),e._v(" "),t("CompImgPopup",{attrs:{task:n},on:{changeTasks:e.changeTasks,changeComp:e.changeComp}})],1),e._v(" "),t("section",{staticClass:"modalArea",attrs:{id:"editTask"}},[t("div",{staticClass:"modalBg",on:{click:function(t){return e.closeEditPopup()}}}),e._v(" "),t("div",{staticClass:"modalWrapperEdit"},[t("div",{staticClass:"editContents"},[t("h1",[e._v("タスクの編集")]),e._v(" "),t("p",[e._v("タスク名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"editInput",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),t("p",{staticClass:"err"},[e._v(e._s(e.taskerr))]),e._v(" "),t("p",[e._v("メモ")]),e._v(" "),t("p",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.memo,expression:"memo"}],staticClass:"editInput",domProps:{value:e.memo},on:{input:function(t){t.target.composing||(e.memo=t.target.value)}}})]),e._v(" "),t("p",[e._v("優先度")]),e._v(" "),t("p",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.priority,expression:"priority"}],staticClass:"editInput",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.priority=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"高"}},[e._v("高")]),e._v(" "),t("option",{attrs:{value:"中",selected:""}},[e._v("中")]),e._v(" "),t("option",{attrs:{value:"低"}},[e._v("低")])])]),e._v(" "),t("p",[e._v("期限")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.deadline,expression:"deadline"}],staticClass:"editInput",attrs:{type:"date"},domProps:{value:e.deadline},on:{input:function(t){t.target.composing||(e.deadline=t.target.value)}}}),e._v(" "),t("p",{staticClass:"err"},[e._v(e._s(e.dateerr))]),e._v(" "),t("p",[t("button",{staticClass:"btn btn-warning",on:{click:function(t){return e.updateData(e.taskid)}}},[e._v("編集を保存する")]),e._v(" "),t("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteData(e.taskid)}}},[e._v("削除")])])]),e._v(" "),t("div",{staticClass:"closeModal",on:{click:function(t){return e.closeEditPopup()}}},[e._v("\n            ☓\n          ")])])])])})),e._v(" "),e.tasks.length?e._e():t("div",[t("p",{attrs:{id:"noTasks"}},[e._v("タスクがありません")])])],2)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AddButtonPopup:n(333).default,CompImgPopup:n(334).default})},372:function(e,t,n){"use strict";n(342)},373:function(e,t,n){var r=n(106)(!1);r.push([e.i,"\n#ToDo {\r\n  display: inline;\n}\n#taskList {\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: white;\r\n  padding: 10px;\r\n  z-index: 5;\n}\n#noTasks {\r\n  margin: 10% 0 10% 34%;\r\n  font-size: large;\r\n  font-weight: bold;\n}\n.sort_select {\r\n  float: right;\r\n  margin: 3px 5px 0;\r\n  padding: 2px 10px;\r\n  border-radius: 7px;\r\n  border: 3px solid #ffdd44;\r\n  color: black;\r\n  box-shadow: 1px 1px 2px #777777;\n}\n.task {\r\n  position: relative;\r\n  cursor: pointer;\r\n  display: flex;\r\n  padding-top: 1em;\r\n  padding-bottom: 1em;\n}\n.task-content-group {\r\n  display: flex;\r\n  width: 90%;\n}\n.task-title {\r\n  position: block;\r\n  left: 0;\r\n  margin: auto 1em auto 0;\r\n  padding-left: 1em;\r\n  display: block;\r\n  width: 50%;\n}\n.task-content {\r\n  position: relative;\r\n  display: block;\r\n  right: 0;\r\n  margin: auto 2em auto auto;\n}\n.task-content:last-child {\r\n  margin-right: 1em;\n}\n#ToDoBlock {\r\n  height: 35em;\r\n  box-shadow: 0px 0px 5px black;\r\n  overflow-y: scroll;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: #ee5e1c #ccc;\r\n  border-radius: 10px;\n}\n#ToDoBlock::-webkit-scrollbar {\r\n  width: 10px;\n}\n#ToDoBlock::-webkit-scrollbar-track {\r\n  background-color: #ccc;\r\n  border-radius: 5px;\n}\n#ToDoBlock::-webkit-scrollbar-thumb {\r\n  background-color: #ee5e1c;\r\n  border: 2px outset #dc5b1f;\r\n  border-radius: 10px;\n}\n.err {\r\n  color: red;\r\n  font-size: small;\n}\r\n\r\n/* タスク表示 */\n.high-p {\r\n  border: 1px solid rgb(255, 0, 0);\r\n  border-radius: 10px;\r\n  background-color: rgba(255, 0, 0, 0.1);\r\n  box-shadow: 1px 1px 2px #777777;\n}\n.middle-p {\r\n  border: 1px solid rgb(210, 210, 0);\r\n  border-radius: 10px;\r\n  background-color: rgba(255, 250, 0, 0.1);\r\n  box-shadow: 1px 1px 2px #777777;\n}\n.low-p {\r\n  border: 1px solid rgb(199, 199, 199);\r\n  border-radius: 10px;\r\n  box-shadow: 1px 1px 2px #777777;\n}\n.deadline-red {\r\n  color: red;\n}\r\n\r\n/* モーダルCSS */\n.modalArea {\r\n  display: none;\r\n  position: fixed;\r\n  z-index: 10;\r\n  /*サイトによってここの数値は調整 */\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\n}\n.modalBg {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(30, 30, 30, 0.9);\n}\n.modalWrapperEdit {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 70%;\r\n  max-width: 500px;\r\n  padding: 10px 30px;\r\n  background-color: #fff;\n}\n.closeModal {\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 1rem;\r\n  cursor: pointer;\n}\r\n\r\n/* 編集ポップアップ内 */\n.editContents {\r\n  padding: 2em;\n}\n.editInput {\r\n  border: 1px solid gray;\n}\r\n",""]),e.exports=r}}]);